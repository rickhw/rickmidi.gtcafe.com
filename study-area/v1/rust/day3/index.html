
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://www.gtcafe.com/study-area/v1/rust/day3/">
      
      
        <link rel="prev" href="../day2/">
      
      
        <link rel="next" href="../../misc/">
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.5.3, mkdocs-material-9.5.13">
    
    
      
        <title>Day 3: Guessing Game #1 - Study Notes @ GTCafe</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.7e359304.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../stylesheets/extra.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="custom" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#day-3-guessing-game-part-1" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <div data-md-color-scheme="default" data-md-component="outdated" hidden>
        
      </div>
    
    
      

  

<header class="md-header md-header--shadow md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Study Notes @ GTCafe" class="md-header__button md-logo" aria-label="Study Notes @ GTCafe" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Study Notes @ GTCafe
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Day 3: Guessing Game #1
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
    
    
  </nav>
  
    
      
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../.." class="md-tabs__link">
          
  
  Index

        </a>
      </li>
    
  

      
        
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../day1/" class="md-tabs__link">
          
  
  Rust

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../misc/" class="md-tabs__link">
          
  
  Misc

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../springboot/exception-handler/overview/" class="md-tabs__link">
          
  
  Springboot

        </a>
      </li>
    
  

    
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="https://www.gtcafe.com" class="md-tabs__link">
        
  
    
  
  GTCafe

      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Study Notes @ GTCafe" class="md-nav__button md-logo" aria-label="Study Notes @ GTCafe" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    Study Notes @ GTCafe
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_1" >
        
          
          <label class="md-nav__link" for="__nav_1" id="__nav_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Index
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1">
            <span class="md-nav__icon md-icon"></span>
            Index
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Overview
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../changelog/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ChangeLog
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../principle/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    排版
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tags/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Tags
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
      
        
        
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" checked>
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Rust
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Rust
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../day1/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Day 1: Experience Rust
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../day2/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Day 2: Cargo 卡狗專案
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Day 3: Guessing Game #1
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Day 3: Guessing Game #1
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#_1" class="md-nav__link">
    <span class="md-ellipsis">
      前言
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#experience" class="md-nav__link">
    <span class="md-ellipsis">
      Experience
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#explain-use" class="md-nav__link">
    <span class="md-ellipsis">
      Explain: use
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#explain-mutable-variable" class="md-nav__link">
    <span class="md-ellipsis">
      Explain: mutable variable
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Explain: mutable variable">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#java" class="md-nav__link">
    <span class="md-ellipsis">
      Java
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#golang" class="md-nav__link">
    <span class="md-ellipsis">
      Golang
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#immutable-in-rust" class="md-nav__link">
    <span class="md-ellipsis">
      immutable in Rust
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#explain-new-stringnew" class="md-nav__link">
    <span class="md-ellipsis">
      Explain: new String::new();
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Explain: new String::new();">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#string-type" class="md-nav__link">
    <span class="md-ellipsis">
      String type
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#explain-receiving-user-input" class="md-nav__link">
    <span class="md-ellipsis">
      Explain: Receiving User Input
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#println-string-format" class="md-nav__link">
    <span class="md-ellipsis">
      println, String Format
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    <span class="md-ellipsis">
      摘要
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#reference" class="md-nav__link">
    <span class="md-ellipsis">
      Reference
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Misc
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Misc
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../misc/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    About
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../git/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Git
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Springboot
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Springboot
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4_1" >
        
          
          <label class="md-nav__link" for="__nav_4_1" id="__nav_4_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Exception Handler
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_1">
            <span class="md-nav__icon md-icon"></span>
            Exception Handler
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../springboot/exception-handler/overview/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Overview
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../springboot/exception-handler/global-exception/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Global Exception
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../springboot/exception-handler/payload-structure/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Payload Structure
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../springboot/exception-handler/payload-validation/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Payload Validation
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="https://www.gtcafe.com" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    GTCafe
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#_1" class="md-nav__link">
    <span class="md-ellipsis">
      前言
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#experience" class="md-nav__link">
    <span class="md-ellipsis">
      Experience
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#explain-use" class="md-nav__link">
    <span class="md-ellipsis">
      Explain: use
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#explain-mutable-variable" class="md-nav__link">
    <span class="md-ellipsis">
      Explain: mutable variable
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Explain: mutable variable">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#java" class="md-nav__link">
    <span class="md-ellipsis">
      Java
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#golang" class="md-nav__link">
    <span class="md-ellipsis">
      Golang
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#immutable-in-rust" class="md-nav__link">
    <span class="md-ellipsis">
      immutable in Rust
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#explain-new-stringnew" class="md-nav__link">
    <span class="md-ellipsis">
      Explain: new String::new();
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Explain: new String::new();">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#string-type" class="md-nav__link">
    <span class="md-ellipsis">
      String type
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#explain-receiving-user-input" class="md-nav__link">
    <span class="md-ellipsis">
      Explain: Receiving User Input
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#println-string-format" class="md-nav__link">
    <span class="md-ellipsis">
      println, String Format
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    <span class="md-ellipsis">
      摘要
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#reference" class="md-nav__link">
    <span class="md-ellipsis">
      Reference
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<h1 id="day-3-guessing-game-part-1">Day 3: Guessing Game - Part 1</h1>
<h2 id="_1">前言</h2>
<ul>
<li>了解範例程式的目的</li>
<li>了解 syntax, 包含 language 的關鍵字: let, mut</li>
<li>了解 rust stdin module</li>
<li>了解 exception handling</li>
</ul>
<h2 id="experience">Experience</h2>
<p>記錄官方提供的 <a href="https://doc.rust-lang.org/book/ch02-00-guessing-game-tutorial.html">Guessing Game</a>，原始碼如下：</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-0-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-0-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-0-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-0-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-0-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-0-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-0-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-0-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-0-10">10</a></span>
<span class="normal"><a href="#__codelineno-0-11">11</a></span>
<span class="normal"><a href="#__codelineno-0-12">12</a></span>
<span class="normal"><a href="#__codelineno-0-13">13</a></span>
<span class="normal"><a href="#__codelineno-0-14">14</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1"></a><span class="hll"><span class="k">use</span><span class="w"> </span><span class="n">std</span>::<span class="n">io</span><span class="p">;</span>
</span><a id="__codelineno-0-2" name="__codelineno-0-2"></a>
<a id="__codelineno-0-3" name="__codelineno-0-3"></a><span class="k">fn</span> <span class="nf">main</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-0-4" name="__codelineno-0-4"></a><span class="w">    </span><span class="fm">println!</span><span class="p">(</span><span class="s">&quot;Guess the number!&quot;</span><span class="p">);</span>
<a id="__codelineno-0-5" name="__codelineno-0-5"></a><span class="w">    </span><span class="fm">println!</span><span class="p">(</span><span class="s">&quot;Please input your guess.&quot;</span><span class="p">);</span>
<a id="__codelineno-0-6" name="__codelineno-0-6"></a>
<a id="__codelineno-0-7" name="__codelineno-0-7"></a><span class="hll"><span class="w">    </span><span class="kd">let</span><span class="w"> </span><span class="k">mut</span><span class="w"> </span><span class="n">guess</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">String</span>::<span class="n">new</span><span class="p">();</span>
</span><a id="__codelineno-0-8" name="__codelineno-0-8"></a>
<a id="__codelineno-0-9" name="__codelineno-0-9"></a><span class="hll"><span class="w">    </span><span class="n">io</span>::<span class="n">stdin</span><span class="p">()</span>
</span><a id="__codelineno-0-10" name="__codelineno-0-10"></a><span class="w">        </span><span class="p">.</span><span class="n">read_line</span><span class="p">(</span><span class="o">&amp;</span><span class="k">mut</span><span class="w"> </span><span class="n">guess</span><span class="p">)</span>
<a id="__codelineno-0-11" name="__codelineno-0-11"></a><span class="w">        </span><span class="p">.</span><span class="n">expect</span><span class="p">(</span><span class="s">&quot;Failed to read line&quot;</span><span class="p">);</span>
<a id="__codelineno-0-12" name="__codelineno-0-12"></a>
<a id="__codelineno-0-13" name="__codelineno-0-13"></a><span class="w">    </span><span class="fm">println!</span><span class="p">(</span><span class="s">&quot;You guessed: {guess}&quot;</span><span class="p">);</span>
<a id="__codelineno-0-14" name="__codelineno-0-14"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<p>執行過程：</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-1-1">1</a></span>
<span class="normal"><a href="#__codelineno-1-2">2</a></span>
<span class="normal"><a href="#__codelineno-1-3">3</a></span>
<span class="normal"><a href="#__codelineno-1-4">4</a></span>
<span class="normal"><a href="#__codelineno-1-5">5</a></span>
<span class="normal"><a href="#__codelineno-1-6">6</a></span>
<span class="normal"><a href="#__codelineno-1-7">7</a></span>
<span class="normal"><a href="#__codelineno-1-8">8</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1"></a><span class="hll">$<span class="w"> </span>cargo<span class="w"> </span>run
</span><a id="__codelineno-1-2" name="__codelineno-1-2"></a><span class="w">   </span>Compiling<span class="w"> </span>guessing_game<span class="w"> </span>v0.1.0<span class="w"> </span><span class="o">(</span>&lt;username&gt;/respo/rust/guessing_game<span class="o">)</span>
<a id="__codelineno-1-3" name="__codelineno-1-3"></a><span class="w">    </span>Finished<span class="w"> </span>dev<span class="w"> </span><span class="o">[</span>unoptimized<span class="w"> </span>+<span class="w"> </span>debuginfo<span class="o">]</span><span class="w"> </span>target<span class="o">(</span>s<span class="o">)</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="m">0</span>.08s
<a id="__codelineno-1-4" name="__codelineno-1-4"></a><span class="w">     </span>Running<span class="w"> </span><span class="sb">`</span>target/debug/guessing_game<span class="sb">`</span>
<a id="__codelineno-1-5" name="__codelineno-1-5"></a><span class="hll">Guess<span class="w"> </span>the<span class="w"> </span>number!
</span><a id="__codelineno-1-6" name="__codelineno-1-6"></a><span class="hll">Please<span class="w"> </span>input<span class="w"> </span>your<span class="w"> </span>guess.
</span><a id="__codelineno-1-7" name="__codelineno-1-7"></a><span class="hll"><span class="m">123</span>
</span><a id="__codelineno-1-8" name="__codelineno-1-8"></a><span class="hll">You<span class="w"> </span>guessed:<span class="w"> </span><span class="m">123</span>
</span></code></pre></div></td></tr></table></div>
<h2 id="explain-use">Explain: use</h2>
<p>解釋原始碼，首先是第一行：<code>use std::io;</code> </p>
<ul>
<li>引用了標準的 <code>std</code> libraries.</li>
<li>引用 io 這個 <code>module</code></li>
<li>rust 支援 <code>prelude</code> 的概念，也就是 <code>預先 include</code> 的 module, 有以下特性:<ul>
<li>每個 rust program 都會預先仔入的 module</li>
<li>prelude module 會儘可能保持最小</li>
<li>提供每個 rust 都需要的功能</li>
<li>詳細參閱 <a href="https://doc.rust-lang.org/std/prelude/index.html">prelude</a></li>
</ul>
</li>
</ul>
<h2 id="explain-mutable-variable">Explain: mutable variable</h2>
<p>接下來解釋一個宣告變數，這個變數用來存放使用者輸入的值：</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a><span class="kd">let</span><span class="w"> </span><span class="k">mut</span><span class="w"> </span><span class="n">guess</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">String</span>::<span class="n">new</span><span class="p">();</span>
</code></pre></div>
<p>rust 用 <code>let</code> 這個關鍵字宣告變數, 像是 <code>let num = 5;</code> 宣告變數名稱為 <code>num</code>, 並指定內容值為 <code>5</code>. 這樣的宣告方式預設變數具備 <code>immutable</code> 特性, 中文翻譯成 <code>不可變動的</code>.</p>
<p><code>不可變動的</code> 意思是 變數 <code>num</code> 被宣告成 5 之後，如果再嘗試改變成其他的話，會有問題，例如底下：</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-3-1">1</a></span>
<span class="normal"><a href="#__codelineno-3-2">2</a></span>
<span class="normal"><a href="#__codelineno-3-3">3</a></span>
<span class="normal"><a href="#__codelineno-3-4">4</a></span>
<span class="normal"><a href="#__codelineno-3-5">5</a></span>
<span class="normal"><a href="#__codelineno-3-6">6</a></span>
<span class="normal"><a href="#__codelineno-3-7">7</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1"></a><span class="k">fn</span> <span class="nf">main</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-3-2" name="__codelineno-3-2"></a><span class="hll"><span class="w">    </span><span class="kd">let</span><span class="w"> </span><span class="n">num</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">5</span><span class="p">;</span>
</span><a id="__codelineno-3-3" name="__codelineno-3-3"></a><span class="w">    </span><span class="fm">println!</span><span class="p">(</span><span class="s">&quot;number is: {num}&quot;</span><span class="p">);</span>
<a id="__codelineno-3-4" name="__codelineno-3-4"></a>
<a id="__codelineno-3-5" name="__codelineno-3-5"></a><span class="hll"><span class="w">    </span><span class="n">num</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">6</span><span class="p">;</span>
</span><a id="__codelineno-3-6" name="__codelineno-3-6"></a><span class="w">    </span><span class="fm">println!</span><span class="p">(</span><span class="s">&quot;number was changed as: {num}&quot;</span><span class="p">);</span>
<a id="__codelineno-3-7" name="__codelineno-3-7"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<p>第二行宣告變數，預設為 immutable，第三行正常輸出。隨即第五行嘗試改變 <code>num</code> 的直，並且輸出，實際編譯結果如下：</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-4-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-4-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-4-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-4-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-4-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-4-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-4-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-4-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-4-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-4-10">10</a></span>
<span class="normal"><a href="#__codelineno-4-11">11</a></span>
<span class="normal"><a href="#__codelineno-4-12">12</a></span>
<span class="normal"><a href="#__codelineno-4-13">13</a></span>
<span class="normal"><a href="#__codelineno-4-14">14</a></span>
<span class="normal"><a href="#__codelineno-4-15">15</a></span>
<span class="normal"><a href="#__codelineno-4-16">16</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1"></a>$<span class="w"> </span>rustc<span class="w"> </span>immutable.rs
<a id="__codelineno-4-2" name="__codelineno-4-2"></a><span class="hll">error<span class="o">[</span>E0384<span class="o">]</span>:<span class="w"> </span>cannot<span class="w"> </span>assign<span class="w"> </span>twice<span class="w"> </span>to<span class="w"> </span>immutable<span class="w"> </span>variable<span class="w"> </span><span class="sb">`</span>num<span class="sb">`</span>
</span><a id="__codelineno-4-3" name="__codelineno-4-3"></a><span class="w"> </span>--&gt;<span class="w"> </span>immutable.rs:5:5
<a id="__codelineno-4-4" name="__codelineno-4-4"></a><span class="w">  </span><span class="p">|</span>
<a id="__codelineno-4-5" name="__codelineno-4-5"></a><span class="hll"><span class="m">2</span><span class="w"> </span><span class="p">|</span><span class="w">     </span><span class="nb">let</span><span class="w"> </span><span class="nv">num</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">5</span><span class="p">;</span>
</span><a id="__codelineno-4-6" name="__codelineno-4-6"></a><span class="w">  </span><span class="p">|</span><span class="w">         </span>---
<a id="__codelineno-4-7" name="__codelineno-4-7"></a><span class="w">  </span><span class="p">|</span><span class="w">         </span><span class="p">|</span>
<a id="__codelineno-4-8" name="__codelineno-4-8"></a><span class="w">  </span><span class="p">|</span><span class="w">         </span>first<span class="w"> </span>assignment<span class="w"> </span>to<span class="w"> </span><span class="sb">`</span>num<span class="sb">`</span>
<a id="__codelineno-4-9" name="__codelineno-4-9"></a><span class="w">  </span><span class="p">|</span><span class="w">         </span>help:<span class="w"> </span>consider<span class="w"> </span>making<span class="w"> </span>this<span class="w"> </span>binding<span class="w"> </span>mutable:<span class="w"> </span><span class="sb">`</span>mut<span class="w"> </span>num<span class="sb">`</span>
<a id="__codelineno-4-10" name="__codelineno-4-10"></a>...
<a id="__codelineno-4-11" name="__codelineno-4-11"></a><span class="m">5</span><span class="w"> </span><span class="p">|</span><span class="w">     </span><span class="nv">num</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">6</span><span class="p">;</span>
<a id="__codelineno-4-12" name="__codelineno-4-12"></a><span class="hll"><span class="w">  </span><span class="p">|</span><span class="w">     </span>^^^^^^^<span class="w"> </span>cannot<span class="w"> </span>assign<span class="w"> </span>twice<span class="w"> </span>to<span class="w"> </span>immutable<span class="w"> </span>variable
</span><a id="__codelineno-4-13" name="__codelineno-4-13"></a>
<a id="__codelineno-4-14" name="__codelineno-4-14"></a>error:<span class="w"> </span>aborting<span class="w"> </span>due<span class="w"> </span>to<span class="w"> </span>previous<span class="w"> </span>error
<a id="__codelineno-4-15" name="__codelineno-4-15"></a>
<a id="__codelineno-4-16" name="__codelineno-4-16"></a><span class="hll">For<span class="w"> </span>more<span class="w"> </span>information<span class="w"> </span>about<span class="w"> </span>this<span class="w"> </span>error,<span class="w"> </span>try<span class="w"> </span><span class="sb">`</span>rustc<span class="w"> </span>--explain<span class="w"> </span>E0384<span class="sb">`</span>.
</span></code></pre></div></td></tr></table></div>
<p>compile 明確的指示出問題點，並給出解釋問題的引導，嘗試執行 <code>rustc --explain E0384</code> 如下：</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-5-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-5-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-5-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-5-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-5-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-5-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-5-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-5-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-5-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-5-10">10</a></span>
<span class="normal"><a href="#__codelineno-5-11">11</a></span>
<span class="normal"><a href="#__codelineno-5-12">12</a></span>
<span class="normal"><a href="#__codelineno-5-13">13</a></span>
<span class="normal"><a href="#__codelineno-5-14">14</a></span>
<span class="normal"><a href="#__codelineno-5-15">15</a></span>
<span class="normal"><a href="#__codelineno-5-16">16</a></span>
<span class="normal"><a href="#__codelineno-5-17">17</a></span>
<span class="normal"><a href="#__codelineno-5-18">18</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1"></a>$<span class="w"> </span>rustc<span class="w"> </span>--explain<span class="w"> </span>E0384
<a id="__codelineno-5-2" name="__codelineno-5-2"></a>
<a id="__codelineno-5-3" name="__codelineno-5-3"></a>An<span class="w"> </span>immutable<span class="w"> </span>variable<span class="w"> </span>was<span class="w"> </span>reassigned.
<a id="__codelineno-5-4" name="__codelineno-5-4"></a>
<a id="__codelineno-5-5" name="__codelineno-5-5"></a>Erroneous<span class="w"> </span>code<span class="w"> </span>example:
<a id="__codelineno-5-6" name="__codelineno-5-6"></a>
<a id="__codelineno-5-7" name="__codelineno-5-7"></a>fn<span class="w"> </span>main<span class="o">()</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-5-8" name="__codelineno-5-8"></a><span class="w">    </span><span class="nb">let</span><span class="w"> </span><span class="nv">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">3</span><span class="p">;</span>
<a id="__codelineno-5-9" name="__codelineno-5-9"></a><span class="hll"><span class="w">    </span><span class="nv">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">5</span><span class="p">;</span><span class="w"> </span>//<span class="w"> </span>error,<span class="w"> </span>reassignment<span class="w"> </span>of<span class="w"> </span>immutable<span class="w"> </span>variable
</span><a id="__codelineno-5-10" name="__codelineno-5-10"></a><span class="o">}</span>
<a id="__codelineno-5-11" name="__codelineno-5-11"></a>
<a id="__codelineno-5-12" name="__codelineno-5-12"></a><span class="hll">By<span class="w"> </span>default,<span class="w"> </span>variables<span class="w"> </span><span class="k">in</span><span class="w"> </span>Rust<span class="w"> </span>are<span class="w"> </span>immutable.<span class="w"> </span>To<span class="w"> </span>fix<span class="w"> </span>this<span class="w"> </span>error,<span class="w"> </span>add<span class="w"> </span>the<span class="w"> </span>keyword<span class="w"> </span>mut<span class="w"> </span>after<span class="w"> </span>the<span class="w"> </span>keyword<span class="w"> </span><span class="nb">let</span><span class="w"> </span>when<span class="w"> </span>declaring<span class="w"> </span>the
</span><a id="__codelineno-5-13" name="__codelineno-5-13"></a><span class="hll">variable.<span class="w"> </span>For<span class="w"> </span>example:
</span><a id="__codelineno-5-14" name="__codelineno-5-14"></a>
<a id="__codelineno-5-15" name="__codelineno-5-15"></a>fn<span class="w"> </span>main<span class="o">()</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-5-16" name="__codelineno-5-16"></a><span class="hll"><span class="w">    </span><span class="nb">let</span><span class="w"> </span>mut<span class="w"> </span><span class="nv">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">3</span><span class="p">;</span>
</span><a id="__codelineno-5-17" name="__codelineno-5-17"></a><span class="hll"><span class="w">    </span><span class="nv">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">5</span><span class="p">;</span>
</span><a id="__codelineno-5-18" name="__codelineno-5-18"></a><span class="o">}</span>
</code></pre></div></td></tr></table></div>
<h3 id="java">Java</h3>
<p>這個設計概念，其實與大部分的程式語言是相反的，例如 java 的 primitive type 是可以直接修改的：</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-6-1">1</a></span>
<span class="normal"><a href="#__codelineno-6-2">2</a></span>
<span class="normal"><a href="#__codelineno-6-3">3</a></span>
<span class="normal"><a href="#__codelineno-6-4">4</a></span>
<span class="normal"><a href="#__codelineno-6-5">5</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-6-1" name="__codelineno-6-1"></a><span class="kt">int</span><span class="w"> </span><span class="n">num</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">5</span><span class="p">;</span><span class="w"> </span><span class="c1">// declaration</span>
<a id="__codelineno-6-2" name="__codelineno-6-2"></a><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;num: &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">num</span><span class="p">);</span>
<a id="__codelineno-6-3" name="__codelineno-6-3"></a>
<a id="__codelineno-6-4" name="__codelineno-6-4"></a><span class="hll"><span class="n">num</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">6</span><span class="p">;</span><span class="w"> </span><span class="c1">// reassign value to num</span>
</span><a id="__codelineno-6-5" name="__codelineno-6-5"></a><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;num: &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">num</span><span class="p">);</span>
</code></pre></div></td></tr></table></div>
<p>執行結果</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a>$<span class="w"> </span>javac<span class="w"> </span>Main.java
<a id="__codelineno-7-2" name="__codelineno-7-2" href="#__codelineno-7-2"></a>
<a id="__codelineno-7-3" name="__codelineno-7-3" href="#__codelineno-7-3"></a>$<span class="w"> </span>javac<span class="w"> </span>Main
<a id="__codelineno-7-4" name="__codelineno-7-4" href="#__codelineno-7-4"></a>num:<span class="w"> </span><span class="m">5</span>
<a id="__codelineno-7-5" name="__codelineno-7-5" href="#__codelineno-7-5"></a>num:<span class="w"> </span><span class="m">6</span>
</code></pre></div>
<p>如果要讓變數是 immutable 則要透過關鍵字 <code>final</code> 宣告，</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-8-1">1</a></span>
<span class="normal"><a href="#__codelineno-8-2">2</a></span>
<span class="normal"><a href="#__codelineno-8-3">3</a></span>
<span class="normal"><a href="#__codelineno-8-4">4</a></span>
<span class="normal"><a href="#__codelineno-8-5">5</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-8-1" name="__codelineno-8-1"></a><span class="kd">final</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">num2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">5</span><span class="p">;</span><span class="w"> </span><span class="c1">// declearation</span>
<a id="__codelineno-8-2" name="__codelineno-8-2"></a><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;num: &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">num</span><span class="p">);</span>
<a id="__codelineno-8-3" name="__codelineno-8-3"></a>
<a id="__codelineno-8-4" name="__codelineno-8-4"></a><span class="hll"><span class="n">num2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">6</span><span class="p">;</span><span class="w"> </span><span class="c1">// compile error</span>
</span><a id="__codelineno-8-5" name="__codelineno-8-5"></a><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;num: &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">num</span><span class="p">);</span>
</code></pre></div></td></tr></table></div>
<p>執行結果：</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-9-1">1</a></span>
<span class="normal"><a href="#__codelineno-9-2">2</a></span>
<span class="normal"><a href="#__codelineno-9-3">3</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-9-1" name="__codelineno-9-1"></a><span class="n">$</span><span class="w"> </span><span class="n">javac</span><span class="w"> </span><span class="n">Main</span><span class="p">.</span><span class="na">java</span>
<a id="__codelineno-9-2" name="__codelineno-9-2"></a><span class="hll"><span class="n">Main</span><span class="p">.</span><span class="na">java</span><span class="p">:</span><span class="mi">10</span><span class="p">:</span><span class="w"> </span><span class="n">error</span><span class="p">:</span><span class="w"> </span><span class="n">cannot</span><span class="w"> </span><span class="n">assign</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">variable</span><span class="w"> </span><span class="n">num2</span>
</span><a id="__codelineno-9-3" name="__codelineno-9-3"></a><span class="w">        </span><span class="n">num2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">6</span><span class="p">;</span>
</code></pre></div></td></tr></table></div>
<h3 id="golang">Golang</h3>
<p>golang 有類似的概念，但不是硬性的，如下：</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-10-1">1</a></span>
<span class="normal"><a href="#__codelineno-10-2">2</a></span>
<span class="normal"><a href="#__codelineno-10-3">3</a></span>
<span class="normal"><a href="#__codelineno-10-4">4</a></span>
<span class="normal"><a href="#__codelineno-10-5">5</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-10-1" name="__codelineno-10-1"></a><span class="nx">num</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="mi">5</span><span class="w"> </span><span class="c1">// decleration</span>
<a id="__codelineno-10-2" name="__codelineno-10-2"></a><span class="nx">fmt</span><span class="p">.</span><span class="nx">Println</span><span class="p">(</span><span class="s">&quot;num: &quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">num</span><span class="p">)</span>
<a id="__codelineno-10-3" name="__codelineno-10-3"></a>
<a id="__codelineno-10-4" name="__codelineno-10-4"></a><span class="hll"><span class="nx">num</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="mi">6</span><span class="w"> </span><span class="c1">// reassignment</span>
</span><a id="__codelineno-10-5" name="__codelineno-10-5"></a><span class="nx">fmt</span><span class="p">.</span><span class="nx">Println</span><span class="p">(</span><span class="s">&quot;num: &quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">num</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
<p>執行結果：</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-11-1" name="__codelineno-11-1" href="#__codelineno-11-1"></a>$<span class="w"> </span>go<span class="w"> </span>build<span class="w"> </span>main.go
<a id="__codelineno-11-2" name="__codelineno-11-2" href="#__codelineno-11-2"></a>$<span class="w"> </span>./main
<a id="__codelineno-11-3" name="__codelineno-11-3" href="#__codelineno-11-3"></a>num:<span class="w">  </span><span class="m">5</span>
<a id="__codelineno-11-4" name="__codelineno-11-4" href="#__codelineno-11-4"></a>num:<span class="w">  </span><span class="m">6</span>
</code></pre></div>
<p>用 java 和 golang 這兩個語言舉例，其他語言就不列的，大部分的程式語言對於 <code>immmtable variable</code>，在語言層級上並沒有明確的設計 (可能有，我不知道而已)，但是 rust 這個語言的第一個教學就出現，代表這個特性其實是程式語言當中必要的特性。 </p>
<h3 id="immutable-in-rust">immutable in Rust</h3>
<p>回到 Rust，只要沒有特別宣告的就是 <code>immutable</code>，其實就是類似 <code>常數的概念</code>；如果是用來作為暫存的用途，則要宣告成 <code>mutable</code>。背後是希望寫程式的人，透過這種方式明確指定變數的用途，而實際的影響則是 runtime 在記憶體配置，可以有更好的配置策略，達到效能改善的結果，這應該是 rust 會感覺很有效率的原因之一。</p>
<p>而我個人的經驗，程式邏輯中大部分的 <code>變數</code> 實際上都是 immutable，固定且不太會變動的，真正需要不斷變動的是需要計算的邏輯，用以下這段程式當例子。這是我很多年前寫的 Java Code (<a href="https://github.com/rickhw/sdna/blob/master/src/core/com/gtcafe/sdna/core/IMIDINotes.java">source</a>)</p>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-12-1" name="__codelineno-12-1" href="#__codelineno-12-1"></a><span class="kd">public</span><span class="w"> </span><span class="kd">interface</span> <span class="nc">IMIDINotes</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-12-2" name="__codelineno-12-2" href="#__codelineno-12-2"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">_C1</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<a id="__codelineno-12-3" name="__codelineno-12-3" href="#__codelineno-12-3"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">_C1S</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
<a id="__codelineno-12-4" name="__codelineno-12-4" href="#__codelineno-12-4"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">_D1</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="mi">2</span><span class="p">;</span>
<a id="__codelineno-12-5" name="__codelineno-12-5" href="#__codelineno-12-5"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">_D1S</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">3</span><span class="p">;</span>
<a id="__codelineno-12-6" name="__codelineno-12-6" href="#__codelineno-12-6"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">_E1</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="mi">4</span><span class="p">;</span>
<a id="__codelineno-12-7" name="__codelineno-12-7" href="#__codelineno-12-7"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">_F1</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="mi">5</span><span class="p">;</span>
<a id="__codelineno-12-8" name="__codelineno-12-8" href="#__codelineno-12-8"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">_F1S</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">6</span><span class="p">;</span>
<a id="__codelineno-12-9" name="__codelineno-12-9" href="#__codelineno-12-9"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">_G1</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="mi">7</span><span class="p">;</span>
<a id="__codelineno-12-10" name="__codelineno-12-10" href="#__codelineno-12-10"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">_G1S</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">8</span><span class="p">;</span>
<a id="__codelineno-12-11" name="__codelineno-12-11" href="#__codelineno-12-11"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">_A1</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="mi">9</span><span class="p">;</span>
<a id="__codelineno-12-12" name="__codelineno-12-12" href="#__codelineno-12-12"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">_A1S</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">10</span><span class="p">;</span>
<a id="__codelineno-12-13" name="__codelineno-12-13" href="#__codelineno-12-13"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">_B1</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="mi">11</span><span class="p">;</span>
<a id="__codelineno-12-14" name="__codelineno-12-14" href="#__codelineno-12-14"></a>
<a id="__codelineno-12-15" name="__codelineno-12-15" href="#__codelineno-12-15"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">C0</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="mi">12</span><span class="p">;</span>
<a id="__codelineno-12-16" name="__codelineno-12-16" href="#__codelineno-12-16"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">C0S</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">13</span><span class="p">;</span>
<a id="__codelineno-12-17" name="__codelineno-12-17" href="#__codelineno-12-17"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">D0</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="mi">14</span><span class="p">;</span>
<a id="__codelineno-12-18" name="__codelineno-12-18" href="#__codelineno-12-18"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">D0S</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">15</span><span class="p">;</span>
<a id="__codelineno-12-19" name="__codelineno-12-19" href="#__codelineno-12-19"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">E0</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="mi">16</span><span class="p">;</span>
<a id="__codelineno-12-20" name="__codelineno-12-20" href="#__codelineno-12-20"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">F0</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="mi">17</span><span class="p">;</span>
<a id="__codelineno-12-21" name="__codelineno-12-21" href="#__codelineno-12-21"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">F0S</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">18</span><span class="p">;</span>
<a id="__codelineno-12-22" name="__codelineno-12-22" href="#__codelineno-12-22"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">G0</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="mi">19</span><span class="p">;</span>
<a id="__codelineno-12-23" name="__codelineno-12-23" href="#__codelineno-12-23"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">G0S</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">20</span><span class="p">;</span>
<a id="__codelineno-12-24" name="__codelineno-12-24" href="#__codelineno-12-24"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">A0</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="mi">21</span><span class="p">;</span>
<a id="__codelineno-12-25" name="__codelineno-12-25" href="#__codelineno-12-25"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">A0S</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">22</span><span class="p">;</span>
<a id="__codelineno-12-26" name="__codelineno-12-26" href="#__codelineno-12-26"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">B0</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="mi">23</span><span class="p">;</span>
<a id="__codelineno-12-27" name="__codelineno-12-27" href="#__codelineno-12-27"></a>
<a id="__codelineno-12-28" name="__codelineno-12-28" href="#__codelineno-12-28"></a><span class="w">    </span><span class="p">...</span><span class="w"> </span><span class="n">略</span><span class="w"> </span><span class="p">...</span>
</code></pre></div>
完整程式碼 repos: <a href="https://github.com/rickhw/sdna">sdna</a></p>
<p>這一整段程式碼都在 <code>宣告</code> 一些我已經知道的知識，也就是 音符的定義，這些在音樂上的知識已經是被定義好了，基本上不用算，所以我很大膽的直接全部把所有的音符 (Note Notation) 都用常數宣告，透過變數命稱規則的方式，動態取得這些常數。</p>
<p>Runtime 在計算音樂的上的功能, 像是分析和弦, 音階, ... 等 <code>演算</code> 才需要用到 <code>mutable</code> 的變數當作暫存。</p>
<p>所以 <code>變數</code> 其實是不會變的，應該不能用 variable 這個詞，而是直接用 mutable 這個詞就好. </p>
<h2 id="explain-new-stringnew">Explain: <code>new String::new();</code></h2>
<p><code>字串 String</code> 程式語言最常用的資料型別, 所以先看看 rust 基本的字串如何使用.</p>
<p>Syntax: </p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-13-1" name="__codelineno-13-1" href="#__codelineno-13-1"></a><span class="kd">let</span><span class="w"> </span><span class="k">mut</span><span class="w"> </span><span class="n">guess</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">String</span>::<span class="n">new</span><span class="p">();</span>
</code></pre></div>
<p>這段語法說明如下:</p>
<ol>
<li>透過 <code>=</code> 做指派變數物件的動作, 這與大部分靜態程式語言一樣</li>
<li>用 <code>::</code> 符號表示類型 (String) 關聯 (associate) 的函式 (new)</li>
<li><a href="https://doc.rust-lang.org/std/string/struct.String.html">String</a> 是 rust 標準函式庫裡的 <code>類型 (type)</code>, 主要提供的是可以增長的內容 (growable), 支援 UTF8 編碼.</li>
</ol>
<h3 id="string-type">String type</h3>
<p>String 除了範例中使用 <code>new()</code> 之外，更常用的是初始一段字串，然後串接 (append)，如下：</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-14-1" name="__codelineno-14-1" href="#__codelineno-14-1"></a><span class="kd">let</span><span class="w"> </span><span class="k">mut</span><span class="w"> </span><span class="n">hello</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">String</span>::<span class="n">from</span><span class="p">(</span><span class="s">&quot;Hello, &quot;</span><span class="p">);</span>
<a id="__codelineno-14-2" name="__codelineno-14-2" href="#__codelineno-14-2"></a>
<a id="__codelineno-14-3" name="__codelineno-14-3" href="#__codelineno-14-3"></a><span class="n">hello</span><span class="p">.</span><span class="n">push</span><span class="p">(</span><span class="sc">&#39;w&#39;</span><span class="p">);</span>
<a id="__codelineno-14-4" name="__codelineno-14-4" href="#__codelineno-14-4"></a><span class="n">hello</span><span class="p">.</span><span class="n">push_str</span><span class="p">(</span><span class="s">&quot;orld!&quot;</span><span class="p">);</span>
</code></pre></div>
<p>如果要處理一些 emoji 的話，可以直接用 UTF8</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-15-1">1</a></span>
<span class="normal"><a href="#__codelineno-15-2">2</a></span>
<span class="normal"><a href="#__codelineno-15-3">3</a></span>
<span class="normal"><a href="#__codelineno-15-4">4</a></span>
<span class="normal"><a href="#__codelineno-15-5">5</a></span>
<span class="normal"><a href="#__codelineno-15-6">6</a></span>
<span class="normal"><a href="#__codelineno-15-7">7</a></span>
<span class="normal"><a href="#__codelineno-15-8">8</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-15-1" name="__codelineno-15-1"></a><span class="w">    </span><span class="c1">// some bytes, in a vector. \xF0\x9F\x92\x96    sparkling heart</span>
<a id="__codelineno-15-2" name="__codelineno-15-2"></a><span class="hll"><span class="w">    </span><span class="kd">let</span><span class="w"> </span><span class="n">sparkle_heart</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="fm">vec!</span><span class="p">[</span><span class="mi">240</span><span class="p">,</span><span class="w"> </span><span class="mi">159</span><span class="p">,</span><span class="w"> </span><span class="mi">146</span><span class="p">,</span><span class="w"> </span><span class="mi">150</span><span class="p">];</span>
</span><a id="__codelineno-15-3" name="__codelineno-15-3"></a>
<a id="__codelineno-15-4" name="__codelineno-15-4"></a><span class="w">    </span><span class="c1">// We know these bytes are valid, so we&#39;ll use `unwrap()`.</span>
<a id="__codelineno-15-5" name="__codelineno-15-5"></a><span class="hll"><span class="w">    </span><span class="kd">let</span><span class="w"> </span><span class="n">sparkle_heart</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">String</span>::<span class="n">from_utf8</span><span class="p">(</span><span class="n">sparkle_heart</span><span class="p">).</span><span class="n">unwrap</span><span class="p">();</span>
</span><a id="__codelineno-15-6" name="__codelineno-15-6"></a>
<a id="__codelineno-15-7" name="__codelineno-15-7"></a><span class="w">    </span><span class="fm">println!</span><span class="p">(</span><span class="s">&quot;after utf8: string (emoji): {sparkle_heart}&quot;</span><span class="p">);</span>
<a id="__codelineno-15-8" name="__codelineno-15-8"></a><span class="w">    </span><span class="fm">assert_eq!</span><span class="p">(</span><span class="s">&quot;💖&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">sparkle_heart</span><span class="p">);</span>
</code></pre></div></td></tr></table></div>
<div class="admonition notes">
<p class="admonition-title">Notes</p>
<p>其中 emoji: <code>sparkle_heart</code> 的 Hex code 為 <code>\xF0\x9F\x92\x96</code>, 可以在 <a href="https://apps.timwhitlock.info/emoji/tables/unicode">這裡</a> 用 <code>sparkle heart</code> 找到.</p>
</div>
<p>執行結果:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-16-1" name="__codelineno-16-1" href="#__codelineno-16-1"></a>$<span class="w"> </span>rustc<span class="w"> </span>string.rs
<a id="__codelineno-16-2" name="__codelineno-16-2" href="#__codelineno-16-2"></a>$<span class="w"> </span>./string
<a id="__codelineno-16-3" name="__codelineno-16-3" href="#__codelineno-16-3"></a>string<span class="w"> </span><span class="o">(</span>emoji<span class="o">)</span>:<span class="w"> </span>💖
</code></pre></div>
<h2 id="explain-receiving-user-input">Explain: Receiving User Input</h2>
<p>接下來是接收使用者的輸入，這段如下：</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-17-1">1</a></span>
<span class="normal"><a href="#__codelineno-17-2">2</a></span>
<span class="normal"><a href="#__codelineno-17-3">3</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-17-1" name="__codelineno-17-1"></a><span class="w">    </span><span class="n">io</span>::<span class="n">stdin</span><span class="p">()</span>
<a id="__codelineno-17-2" name="__codelineno-17-2"></a><span class="hll"><span class="w">        </span><span class="p">.</span><span class="n">read_line</span><span class="p">(</span><span class="o">&amp;</span><span class="k">mut</span><span class="w"> </span><span class="n">guess</span><span class="p">)</span>
</span><a id="__codelineno-17-3" name="__codelineno-17-3"></a><span class="w">        </span><span class="p">.</span><span class="n">expect</span><span class="p">(</span><span class="s">&quot;Failed to read line&quot;</span><span class="p">);</span>
</code></pre></div></td></tr></table></div>
<p>解釋：</p>
<ol>
<li>使用 <code>io::stdin()</code> 模組, 官方文件: <a href="https://doc.rust-lang.org/std/io/struct.Stdin.html">Stdin</a></li>
<li>用 <code>read_line</code> method (<a href="https://doc.rust-lang.org/std/io/struct.Stdin.html#method.read_line">官方文件</a>), <ul>
<li>輸入變數是一個參照 (reference), 用 <code>&amp;mut guess</code> 表示</li>
<li><code>&amp;</code> 表示 reference, 透過參照就不需要額外的記憶體複製, 而是直接把 資料指向對應的 ref 裡面。</li>
<li>注意 syntax 不是 <code>&amp;guess</code> 這樣類似於 c 的寫法.</li>
<li>這個 method 會回傳一個 <a href="https://doc.rust-lang.org/std/result/enum.Result.html">Result</a> type，這是個 <code>enum</code> 類型，內容包含了 <code>OK</code> 和 <code>Err</code> 兩種.</li>
</ul>
</li>
<li><code>.expect()</code> 則是例外處理, rust 支援現代程式語言簡潔的特性.<ul>
<li>read_line 回傳的會是 Result, 這個則是調用 <a href="https://doc.rust-lang.org/std/result/enum.Result.html#method.expect">Result.expect()</a> mothod.</li>
<li>如果沒有調用 <code>expect()</code>, compile 會收到 warning</li>
</ul>
</li>
</ol>
<div class="highlight"><pre><span></span><code><a id="__codelineno-18-1" name="__codelineno-18-1" href="#__codelineno-18-1"></a>$<span class="w"> </span>cargo<span class="w"> </span>build
<a id="__codelineno-18-2" name="__codelineno-18-2" href="#__codelineno-18-2"></a><span class="w">   </span>Compiling<span class="w"> </span>guessing_game<span class="w"> </span>v0.1.0<span class="w"> </span><span class="o">(</span>file:///projects/guessing_game<span class="o">)</span>
<a id="__codelineno-18-3" name="__codelineno-18-3" href="#__codelineno-18-3"></a>warning:<span class="w"> </span>unused<span class="w"> </span><span class="sb">`</span>Result<span class="sb">`</span><span class="w"> </span>that<span class="w"> </span>must<span class="w"> </span>be<span class="w"> </span>used
<a id="__codelineno-18-4" name="__codelineno-18-4" href="#__codelineno-18-4"></a><span class="w">  </span>--&gt;<span class="w"> </span>src/main.rs:10:5
<a id="__codelineno-18-5" name="__codelineno-18-5" href="#__codelineno-18-5"></a><span class="w">   </span><span class="p">|</span>
<a id="__codelineno-18-6" name="__codelineno-18-6" href="#__codelineno-18-6"></a><span class="m">10</span><span class="w"> </span><span class="p">|</span><span class="w">     </span>io::stdin<span class="o">()</span>.read_line<span class="o">(</span><span class="p">&amp;</span>mut<span class="w"> </span>guess<span class="o">)</span><span class="p">;</span>
<a id="__codelineno-18-7" name="__codelineno-18-7" href="#__codelineno-18-7"></a><span class="w">   </span><span class="p">|</span><span class="w">     </span>^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
<a id="__codelineno-18-8" name="__codelineno-18-8" href="#__codelineno-18-8"></a><span class="w">   </span><span class="p">|</span>
<a id="__codelineno-18-9" name="__codelineno-18-9" href="#__codelineno-18-9"></a><span class="w">   </span><span class="o">=</span><span class="w"> </span>note:<span class="w"> </span>this<span class="w"> </span><span class="sb">`</span>Result<span class="sb">`</span><span class="w"> </span>may<span class="w"> </span>be<span class="w"> </span>an<span class="w"> </span><span class="sb">`</span>Err<span class="sb">`</span><span class="w"> </span>variant,<span class="w"> </span>which<span class="w"> </span>should<span class="w"> </span>be<span class="w"> </span><span class="nv">handled</span>
<a id="__codelineno-18-10" name="__codelineno-18-10" href="#__codelineno-18-10"></a><span class="w">   </span><span class="o">=</span><span class="w"> </span>note:<span class="w"> </span><span class="sb">`</span><span class="c1">#[warn(unused_must_use)]` on by default</span>
<a id="__codelineno-18-11" name="__codelineno-18-11" href="#__codelineno-18-11"></a>
<a id="__codelineno-18-12" name="__codelineno-18-12" href="#__codelineno-18-12"></a>warning:<span class="w"> </span><span class="sb">`</span>guessing_game<span class="sb">`</span><span class="w"> </span><span class="o">(</span>bin<span class="w"> </span><span class="s2">&quot;guessing_game&quot;</span><span class="o">)</span><span class="w"> </span>generated<span class="w"> </span><span class="m">1</span><span class="w"> </span>warning
<a id="__codelineno-18-13" name="__codelineno-18-13" href="#__codelineno-18-13"></a><span class="w">    </span>Finished<span class="w"> </span>dev<span class="w"> </span><span class="o">[</span>unoptimized<span class="w"> </span>+<span class="w"> </span>debuginfo<span class="o">]</span><span class="w"> </span>target<span class="o">(</span>s<span class="o">)</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="m">0</span>.59s
</code></pre></div>
<h2 id="println-string-format">println, String Format</h2>
<p>最後是 println 和 String Format 的功能：<code>Placeholder</code>, 用法如下：</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-19-1" name="__codelineno-19-1" href="#__codelineno-19-1"></a><span class="fm">println!</span><span class="p">(</span><span class="s">&quot;You guessed: {}&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">guess</span><span class="p">);</span>
<a id="__codelineno-19-2" name="__codelineno-19-2" href="#__codelineno-19-2"></a><span class="fm">println!</span><span class="p">(</span><span class="s">&quot;You guessed: {guess}&quot;</span><span class="p">);</span>
</code></pre></div>
<p>解釋：</p>
<ul>
<li><a href="https://doc.rust-lang.org/std/macro.println.html">println</a> 在 rust 裡是一種 macro</li>
<li>使用一組大括弧 <code>{}</code> 當作 placeholder</li>
<li>也可以在大括弧裡直接指定變數名稱</li>
<li>不需要像 c or java 要指定變數型別, 像是 <code>%s</code>, <code>%d</code> .. 之類的.</li>
<li><a href="https://doc.rust-lang.org/std/macro.println.html">println</a> 使用 module <a href="https://doc.rust-lang.org/std/fmt/index.html">fmt</a> 做字串的格式化，需要更細緻的排版 (固定長度, 數字格式 ...etc) 一樣可以做到.</li>
</ul>
<hr />
<h2 id="_2">摘要</h2>
<p>官方的範例，帶出了 rust 背後設計的幾個想法:</p>
<ul>
<li>變數宣告預設為 immutable, 增加 mut 關鍵字, 讓開發者正式變數的利用率, 進而提升程式的效能, 與資源利用率</li>
<li>rust 支援參照 (reference) 概念, 開發者對於資料傳遞的過程, 要有掌握度, 在 runtime 才會有效率, 記憶體使用才會更有效率</li>
<li>rust 本身對於 錯誤處理 編譯器預設回 warning, 也就是希望開發者要處理.</li>
</ul>
<p>第一部分先整理程式碼本身，下一個部分來整理程式碼以外的東西，像是專案結構之類的。</p>
<hr />
<h2 id="reference">Reference</h2>
<ul>
<li><a href="https://doc.rust-lang.org/book/ch02-00-guessing-game-tutorial.html">Guessing Game</a></li>
<li><a href="https://doc.rust-lang.org/book/ch03-01-variables-and-mutability.html#variables-and-mutability">Variables and Mutability</a></li>
<li>types:<ul>
<li><a href="https://doc.rust-lang.org/std/string/struct.String.html">String</a></li>
<li><a href="https://doc.rust-lang.org/std/result/enum.Result.html">Result</a></li>
<li><a href="https://doc.rust-lang.org/std/macro.println.html">println</a></li>
<li><a href="https://doc.rust-lang.org/std/fmt/index.html">fmt</a></li>
</ul>
</li>
</ul>












                
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var tab,labels=set.querySelector(".tabbed-labels");for(tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["content.tabs.link", "navigation.tabs", "navigation.tabs.sticky", "navigation.instant", "navigation.instant.prefetch", "navigation.sections", "navigation.expand", "navigation.path"], "search": "../../assets/javascripts/workers/search.b8dbb3d2.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": {"provider": "mike"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.c8d2eff1.min.js"></script>
      
    
  </body>
</html>